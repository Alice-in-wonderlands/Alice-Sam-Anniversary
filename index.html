<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>1 Year Anniversary</title>
<style>
  body {
    margin: 0;
    font-family: 'Arial', sans-serif;
    color: #f2eee7;
    overflow-x: hidden;
    background-color: #590818;
    transition: background-color 1.5s ease;
  }

  /* PASSWORD */
  .password-gate {
    position: fixed; inset: 0;
    background-color: #1a0d0d;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    z-index: 10000;
    transition: opacity 1s ease;
  }
  .password-gate input, .password-gate button { border: none; border-radius: 20px; outline: none; }
  .password-gate h2 { color: #f2eee7; margin-bottom: 20px; }
  .password-gate input { padding: 10px 20px; font-size: 1em; text-align: center; background-color: #f2eee7; color: #3b2f2f; }
  .password-gate input.wrong { background-color: #ffb3b3; color: #590818; }
  .password-gate button { margin-top: 15px; padding: 10px 25px; background-color: #590818; color: #f2eee7; cursor: pointer; }
  .password-gate button:hover { background-color: #7a1b27; }

  /* SLIDE TRANSITION OVERLAY */
  .transition-overlay {
    position: fixed;
    inset: 0;
    z-index: 9999;
    background: linear-gradient(90deg, #ffb6c1, #590818);
    transform: translateX(-100%);
    transition: transform 1.2s ease-in-out;
  }
  .transition-overlay.active {
    transform: translateX(0);
  }
  .transition-overlay.leave {
    transform: translateX(100%);
  }

  /* INTRO OVERLAY */
  .intro-overlay {
    position: fixed; inset: 0;
    display: none; align-items: center; justify-content: center;
    flex-direction: column; background-color: #590818;
    color: #f2eee7; z-index: 9000; overflow: hidden; cursor: pointer;
  }
  .floating-icons { position: absolute; inset: 0; overflow: hidden; z-index: 0; }
  .floating-icon { position: absolute; font-size: 2em; opacity: 0.6; animation: floatUp 6s linear infinite; }
  @keyframes floatUp { 0%{transform:translateY(0) scale(1);opacity:0.8;} 80%{opacity:1;} 100%{transform:translateY(-120vh) scale(0.9);opacity:0;} }
  .intro-overlay span, .intro-overlay small { position: relative; z-index: 2; }
  .intro-overlay span { font-size: 2em; margin-bottom: 20px; white-space: pre; }
  .intro-overlay .line2 { font-size: 1.5em; margin-top:0; }
  .intro-overlay small { font-size:0.6em; font-weight:300; opacity:0; margin-top:25px; transition:opacity 1.5s ease; }
  .intro-overlay small.visible { opacity:0.8; }

  /* NIGHT SKY */
  .sky { position: fixed; inset:0; overflow:hidden; z-index:-5; background: radial-gradient(circle at 50% 80%, #0b0b1a 0%, #01010a 100%); }
  .moon { position:absolute; top:5%; right:8%; width:160px; height:160px; background: radial-gradient(circle at 30%30%, #fff,#ddd 60%,#aaa 100%); border-radius:50%; box-shadow:0 0 50px 20px rgba(255,255,200,0.4); transform:scale(1); transition:transform 1.5s ease-out,opacity 1.5s ease-out; }
  .star { position:absolute; background:white; border-radius:50%; opacity:0.8; animation: twinkle 2s infinite ease-in-out; }
  @keyframes twinkle { 0%,100%{opacity:0.2;} 50%{opacity:1;} }
  .shooting-star { position:absolute; width:120px; height:2px; background:linear-gradient(90deg, rgba(255,255,255,1), rgba(255,255,255,0)); opacity:0; transform:rotate(-30deg); filter:drop-shadow(0 0 6px white); animation:shoot 1.8s ease-out forwards; }
  @keyframes shoot { 0%{opacity:1;transform:translate(0,0) rotate(-30deg);} 70%{opacity:1;transform:translate(300px,150px) rotate(-30deg);} 100%{opacity:0;transform:translate(450px,250px) rotate(-30deg);} }
  .cloud { position:absolute; background:rgba(255,255,255,0.1); border-radius:50%; animation:moveClouds 100s linear infinite; filter:blur(30px); }
  @keyframes moveClouds { from{transform:translateX(-200px);} to{transform:translateX(100vw);} }

  /* MAIN SECTIONS */
  section { opacity:0; transform:translateY(50px); transition:opacity 1s ease, transform 1s ease; padding:200px 20px; text-align:center; }
  section:first-of-type{ padding-top:430px; }
  section.visible{ opacity:1; transform:translateY(0); }
  .timeline { position:relative; width:80%; margin:120px auto; max-width:600px; text-align:left; }
  .event { margin:120px 0; position:relative; }
  .event::before { content:""; position:absolute; left:50%; top:-80px; width:4px; height:160px; background:#f2eee7; transform:translateX(-50%); }
  .footstep { position:absolute; width:30px; height:30px; opacity:0; transition:0.5s; }
  #leftFoot{ transform:rotate(-20deg); }
  #rightFoot{ transform:rotate(20deg); }
  .tab { display:inline-block; background-color:rgba(229,225,216,0.8); color:#3b2f2f; padding:10px 20px; margin:10px; border-radius:20px; cursor:pointer; transition:0.3s; }
  .tab:hover{ background-color:#d8d4c7; }
  .letter { display:none; margin:20px auto; max-width:500px; background-color:rgba(247,244,238,0.9); padding:20px; border-radius:15px; color:#3b2f2f; box-shadow:0 0 10px rgba(0,0,0,0.3); }

  /* Puzzle pieces style */
  .puzzle-piece {
    transition: top 0.3s, left 0.3s;
    box-sizing: border-box;
    cursor: pointer;
  }
</style>
</head>
<body>

<!-- PASSWORD -->
<div class="password-gate" id="passwordGate">
  <h2>Enter the password to continue üíå</h2>
  <input type="password" id="pwInput" placeholder="Enter password...">
  <button onclick="checkPassword()">Enter</button>
</div>

<!-- SLIDE TRANSITION OVERLAY -->
<div class="transition-overlay" id="transitionOverlay"></div>

<!-- INTRO OVERLAY -->
<div class="intro-overlay" id="intro">
  <div class="floating-icons" id="floatingIcons"></div>
  <span id="line1"></span>
  <span id="line2" class="line2"></span>
  <small id="clickText">(Click anywhere to continue)</small>
</div>

<!-- NIGHT SKY -->
<div class="sky" id="sky">
  <div class="moon" id="moon"></div>
</div>

<!-- CONTENT -->
<section id="section1">
  <h1>Happy 1 Year Anniversary ‚ù§Ô∏è</h1>
  <p>Each step, each laugh, each tear... brought us closer together.</p>
</section>

<section id="timeline-section">
  <h2>Our Journey üåô</h2>
  <div class="timeline">
    <div class="footstep" id="leftFoot">üë£</div>
    <div class="footstep" id="rightFoot">üë£</div>
    <div class="event">‚ú® The First Message</div>
    <div class="event">üíå The First Date</div>
    <div class="event">üå∏ The First "I Love You"</div>
    <div class="event">üåï Our 1st Anniversary</div>
  </div>
</section>

<section>
  <h2>Love Letters üíñ</h2>
  <div class="tab" onclick="showLetter('letter1')">Letter 1</div>
  <div class="tab" onclick="showLetter('letter2')">Letter 2</div>
  <div id="letter1" class="letter">
    <h3>Letter 1</h3>
    <p>My love, this year with you has been amazing. Every moment with you is precious...</p>
  </div>
  <div id="letter2" class="letter">
    <h3>Letter 2</h3>
    <p>I still remember the day we met, and I cherish every day spent with you...</p>
  </div>
</section>

<!-- Mini Game: Heart Puzzle -->
<section>
  <h2>Mini Game üíû</h2>
  <div id="puzzle-container" style="position:relative; margin:20px auto; width:300px; height:300px;"></div>
  <p id="puzzleMessage" style="margin-top:15px;"></p>
</section>

<audio id="bg-music" loop>
  <source src="mylove.mp3" type="audio/mpeg">
</audio>

<script>
/* PASSWORD + SLIDE TRANSITION */
function checkPassword() {
  const pw = document.getElementById('pwInput');
  const gate = document.getElementById('passwordGate');
  const transition = document.getElementById('transitionOverlay');

  if (pw.value === '1510') {
    // Fade out password gate
    gate.style.opacity = '0';

    // After fade, show transition slide
    setTimeout(() => {
      gate.style.display = 'none';
      transition.classList.add('active');

      // After slide-in, slide out to the right
      setTimeout(() => {
        transition.classList.add('leave');

        // After slide-out, remove and start intro
        setTimeout(() => {
          transition.style.display = 'none';
          showOverlay();
        }, 1200);
      }, 1000);
    }, 800);
  } else {
    pw.classList.add('wrong');
    pw.value = 'Wrong';
    setTimeout(() => { pw.classList.remove('wrong'); pw.value = ''; }, 1000);
  }
}

let introClosing = false;
function handleIntroClick() {
  if (introClosing) return;
  introClosing = true;
  closeIntro();
}

function showOverl
